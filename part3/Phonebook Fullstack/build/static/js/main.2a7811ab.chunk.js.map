{"version":3,"sources":["searchbar.js","addform.js","phonebook.js","services.js","app.js","index.js"],"names":["Searchbar","props","value","name","onChange","handleEvent","Addform","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Phonebook","persons","clickEvent","console","log","filter","person","display","map","key","id","number","onClick","baseURL","newObject","axios","post","then","respone","data","get","response","delete","put","Notification","message","classname","className","App","useState","setPersons","setNewName","setNewNumber","keyword","setKeyword","successMessage","setSuccessMessage","notifycationtype","setType","useEffect","service","initialPersons","forEach","event","kw","target","toLowerCase","includes","preventDefault","temp","tempP","length","window","confirm","returnPerson","setTimeout","catch","error","concat","deleteone","deletePerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2a7811ab.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Searchbar = (props) => {\r\n\r\n    return (<input value = {props.name} onChange = {props.handleEvent} />)\r\n}\r\n\r\nexport default Searchbar","import React from 'react'\r\n\r\nconst Addform = (props) => {\r\n\r\n\r\n    return (\r\n        <form onSubmit={props.addPerson}>\r\n        <div>\r\n          name: <input value={props.newName} onChange = {props.handleNameChange}/>\r\n        </div>\r\n        <div>\r\n        number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Addform","import React from 'react'\r\n\r\nconst Phonebook = ({persons,clickEvent}) => {\r\n    console.log('ph',persons)\r\n    return (\r\n        <div>\r\n        {\r\n            persons.filter( (person) => person.display )\r\n            .map((person)=> {\r\n            return (<div key = {person.id}>\r\n            <p > {person.name}  {person.number} </p> \r\n            <button onClick = {clickEvent(person.id)}>delete</button>\r\n            </div>\r\n                )}\r\n                )\r\n        }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Phonebook","import axios from 'axios'\r\n\r\nconst baseURL = \"https://phonebook-study.herokuapp.com/api/persons\"\r\n\r\nconst addOne = newObject => {\r\n    const request = axios.post(baseURL,newObject)\r\n    return request.then(respone => respone.data)\r\n}\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteOne = id => {\r\n    const request = axios.delete(baseURL+`/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id,newObject) =>{\r\n    const request = axios.put(`${baseURL}/${id}`,newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    addOne,\r\n    getAll,\r\n    deleteOne,\r\n    update\r\n}","import React, { useState, useEffect } from 'react'\r\nimport Searchbar from './searchbar'\r\nimport Addform from './addform'\r\nimport Phonebook from './phonebook'\r\nimport service from './services'\r\n\r\nconst Notification = ({ message,classname }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={classname}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const [ keyword, setKeyword] = useState('')\r\n  const [successMessage, setSuccessMessage] = useState(null)\r\n  const [notifycationtype,setType] = useState('message')\r\n\r\n  useEffect(() => {\r\n    service.getAll()\r\n    .then(initialPersons => {\r\n      initialPersons.forEach(person => person.display = true)\r\n      console.log(initialPersons)\r\n      setPersons(initialPersons)\r\n    })\r\n  },[])\r\n\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const temp = {name: newName,number: newNumber,display: newName.toLowerCase().includes(keyword.toLowerCase()) }\r\n    const tempP = persons.filter(person => person.name === newName)\r\n\r\n    if(tempP.length !== 0){\r\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n        service.update(tempP[0].id,temp)\r\n        .then(returnPerson => {\r\n          returnPerson.display = true\r\n          setPersons(persons.map(person => person.id === tempP[0].id ? returnPerson:person ))\r\n          setSuccessMessage(`${newName} is added`)\r\n          setType(\"message\")\r\n          setTimeout(() => {\r\n            setSuccessMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          setSuccessMessage(`${newName} is removed from server`)\r\n          setType(\"error\")\r\n          setTimeout(() => {\r\n            setSuccessMessage(null)\r\n          }, 5000)\r\n        })\r\n      }\r\n    }\r\n    else{\r\n      service.addOne(temp)\r\n      .then(\r\n        returnPerson => {\r\n            returnPerson.display = true\r\n            setPersons(persons.concat(returnPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n        }\r\n      )\r\n      setSuccessMessage(`${newName} is added`)\r\n      setType(\"message\")\r\n      setTimeout(() => {\r\n        setSuccessMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) =>{\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleKeywordChange = (event) => {\r\n    const kw = event.target.value\r\n\r\n    if(kw === ''){\r\n      setPersons(persons.map( (person) =>{\r\n        return {...person,display : true}\r\n      }) )\r\n    }\r\n\r\n    else{\r\n      setPersons(persons.map((person) => {\r\n        if(person.name.toLowerCase().includes(kw.toLowerCase()))\r\n          return {...person,display : true}\r\n        else\r\n          return {...person, display : false}\r\n        }\r\n    ))\r\n    }\r\n    setKeyword(kw)\r\n  }\r\n\r\n  const deletePerson = (id) =>{\r\n    service.deleteOne(id)\r\n    .then(deleteone => {\r\n      setPersons(persons.filter(person => person.id !== id))\r\n    })\r\n  }\r\n\r\n  const deleteEvent = (id) => (event) => {\r\n    event.preventDefault()\r\n    if(window.confirm(`Delete ${persons[id-1].name}`)){\r\n      deletePerson(id)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={successMessage} classname = {notifycationtype} />\r\n      <Searchbar name = {keyword} handleEvent = {handleKeywordChange}/>\r\n      <h2>add a new</h2>\r\n      <Addform addPerson = {addPerson} newName = {newName} handleNameChange = {handleNameChange} newNumber = {newNumber} handleNumberChange = {handleNumberChange} />\r\n      <h2>Numbers</h2>\r\n      <Phonebook persons = {persons} clickEvent = {deleteEvent}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}